{% extends "base.html" %}

{% block content %}

<br><br>
<h1>All Feedback on Site</h1>
<form action="{{ url_for('feedback.all_feedback_uid_top5') }}" 
      method="POST" >
  <label for="uid">To find the 5 most recent feedback for a user, enter their ID:</label>
  <input type="number" name="uid" id="uid" required>
  <input type="submit" value="Search">
</form>
<form action="{{ url_for('feedback.all_feedback_uid_top5') }}"
                  method="GET">
                  <input type="submit" value="Cancel"/> 
</form>
{% if current_user.is_authenticated%}
<form action="{{ url_for('feedback.my_feedback') }}"
                  method="GET">
                  <input type="submit" value="My Feedback"/> 
</form>
  {% endif %}

<br>

<h3>For Products:</h3>
<table class='table table-hover table-bordered container'>
  <thead class="quokka-brown">
    <tr>
      <th scope="col">User ID</th>
      <th scope="col">Product Name</th>
      <th scope="col">Rating</th>
      <th scope="col">Review</th>
      <th scope="col">Time Added or Updated</th>
    </tr>
  </thead>
  <tbody>
    {% for item in pfeedback %}
      <tr>
        <td>{{item.uid}}</td>
        <td>{{item.name}}</td>
        <td>{{item.rating}}</td>
        <td>{{item.review}}</td>
        <td>{{humanize_time(item.date_time)}}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
<h3>For Sellers:</h3>
<table class='table table-hover table-bordered container'>
  <thead class="quokka-brown">
    <tr>
      <th scope="col">User ID</th>
      <th scope="col">Seller's First Name</th>
      <th scope="col">Seller's Last Name</th>
      <th scope="col">Rating</th>
      <th scope="col">Review</th>
      <th scope="col">Time Added or Updated</th>
    </tr>
  </thead>
  <tbody>
    {% for item in sfeedback %}
      <tr>
        <td>{{item.uid}}</td>
        <td>{{item.firstname}}</td>
        <td>{{item.lastname}}</td>
        <td>{{item.rating}}</td>
        <td>{{item.review}}</td>
        <td>{{humanize_time(item.date_time)}}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}


